spool C:\Users\circl\Documents\2023-2\database_programming\DB_design\DB.txt;

Set ServerOutput On;

DROP TABLE HACKER_TRAINEE; 
DROP TABLE MEMBER;
DROP TABLE HACKADEMY;

-- MEMBER 테이블 생성
CREATE TABLE MEMBER (
    MemberID CHAR(10) PRIMARY KEY NOT NULL,
    MemberName CHAR(18) NOT NULL,
    Status CHAR(7) NOT NULL,
    EntryPointScore INTEGER,
    HasPaidDues SMALLINT NOT NULL
);

-- HACKADEMY 테이블 생성
CREATE TABLE HACKADEMY (
    MemberID CHAR(10) PRIMARY KEY NOT NULL,
    AccessPage SMALLINT NOT NULL,
    EditPermission SMALLINT
);

-- HACKER_TRAINEE 테이블 생성
CREATE TABLE HACKER_TRAINEE (
    StudyGroupID CHAR(18) PRIMARY KEY NOT NULL,
    EntryCount INTEGER NOT NULL,
    MemberID CHAR(10) NOT NULL,
    FOREIGN KEY (MemberID) REFERENCES MEMBER(MemberID)
);

INSERT INTO MEMBER VALUES (2022112416, '김가은', 'Pioneer', 100, 1);
INSERT INTO MEMBER VALUES (2022112417, '이유진', 'Entry', 80, 1);
INSERT INTO MEMBER VALUES (2022112418, '송윤재', 'Noob', 56, 0);
INSERT INTO MEMBER VALUES (2022112419, '이철수', 'Entry', 88, 1);
INSERT INTO MEMBER VALUES (2022112420, '박찬혁', 'Pioneer', 99, 1);

INSERT INTO HACKADEMY VALUES (2022112416, 3, 1);
INSERT INTO HACKADEMY VALUES (2022112417, 2, 1);
INSERT INTO HACKADEMY VALUES (2022112418, 1, 0);
INSERT INTO HACKADEMY VALUES (2022112419, 2, 1);
INSERT INTO HACKADEMY VALUES (2022112420, 3, 1);

INSERT INTO HACKER_TRAINEE VALUES ('1001', 3, 2022112416);
INSERT INTO HACKER_TRAINEE VALUES ('1002', 4, 2022112417);
INSERT INTO HACKER_TRAINEE VALUES ('1003', 4, 2022112418);
INSERT INTO HACKER_TRAINEE VALUES ('1004', 4, 2022112419);
INSERT INTO HACKER_TRAINEE VALUES ('1005', 3, 2022112420);

-- MEMBER 테이블 데이터 조회
SELECT * FROM MEMBER;

-- HACKADEMY 테이블 데이터 조회
SELECT * FROM HACKADEMY;

-- HACKER_TRAINEE 테이블 데이터 조회
SELECT * FROM HACKER_TRAINEE;

spool off;